(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5728:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8955)}])},8955:function(e,r,n){"use strict";n.r(r);var t=n(5893),s=n(7294),l=n(7193),i=n.n(l),p=n(1664),a=n.n(p),u=n(1163);let d=()=>{let[e,r]=(0,s.useState)([]),n=(0,u.useRouter)();(0,s.useEffect)(()=>{fetch("/api/supplier").then(e=>e.json()).then(e=>r(e)).catch(e=>console.error(e))},[]);let l=async n=>{try{let t=await fetch("/api/supplier/".concat(n),{method:"DELETE"});if(!t.ok)throw Error("Something went wrong");r(e.filter(e=>e._id!==n)),alert("Supplier deleted successfully!")}catch(e){console.error(e),alert("Error deleting supplier")}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("header",{className:i().navbar,children:(0,t.jsx)("h1",{className:i()["navbar-brand"],children:"Supplier Management"})}),(0,t.jsx)("div",{children:(0,t.jsxs)("table",{className:i()["supplier-table"],children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Name"}),(0,t.jsx)("th",{children:"Address"}),(0,t.jsx)("th",{children:"Phone Number"}),(0,t.jsx)("th",{children:"Actions"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.name}),(0,t.jsx)("td",{children:e.address}),(0,t.jsx)("td",{children:e.number}),(0,t.jsxs)("td",{children:[(0,t.jsx)("button",{className:i()["submit-btn"],onClick:()=>{n.push("/supplier/Update/".concat(e._id))},children:"Update"}),(0,t.jsx)("button",{className:i()["submit-btn"],onClick:()=>l(e._id),children:"Delete"})]})]},e._id))}),(0,t.jsx)(a(),{href:"/supplier",children:(0,t.jsx)("button",{className:i()["add-btn"],children:"Add Supplier"})})]})})]})};r.default=d},7193:function(e){e.exports={"supplier-form":"supplierform_supplier-form__ODxzU","form-input":"supplierform_form-input__UsnlR","form-btn":"supplierform_form-btn__qLUBl","submit-btn":"supplierform_submit-btn__d2Pt4",navbar:"supplierform_navbar__OIUMq","navbar-brand":"supplierform_navbar-brand__fqy0x","suppliers-container":"supplierform_suppliers-container__AJRRE","supplier-table":"supplierform_supplier-table__fXxuu","edit-btn":"supplierform_edit-btn__wYlSA","add-btn":"supplierform_add-btn__LY2fo","delete-btn":"supplierform_delete-btn__tdW20",container:"supplierform_container__cAF3_",form:"supplierform_form__p0bzQ",label:"supplierform_label__TB5v6"}},1163:function(e,r,n){e.exports=n(6885)}},function(e){e.O(0,[664,774,888,179],function(){return e(e.s=5728)}),_N_E=e.O()}]);